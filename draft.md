# pantsuWorld
养蛊游戏企划
## 设计目标
通过脚本编写水平，来决定战争的胜负

而不是单纯通过硬编码来获得游戏的胜利。
# 星球大战
## 优先摆上台面的问题

<del>[使用RTS or 回合制？](#7-回合制-or-rts)</del> 已经考虑使用RTS

<del>[API怎么办？是web轮询还是websocket还是直接走TCP？？？](#4-api%E5%A6%82%E4%BD%95%E5%BC%80%E6%94%BE%E5%92%8C%E7%AC%AC%E4%B8%80%E6%9D%A1%E5%85%B3%E8%81%94)</del> 直接走TCP吧

## 已经确定的规则

游戏靠round控制游戏进程。

所有事件，比如移动，建造，攻击，战斗都是根据round来进行的。

每个用户进行的动作，会自动封装成一个event，添加到event_list中，

event的周期是根据round进行的，然后到达周期自动销毁。

一般在周期销毁时刻或者round迭代时刻执行某些动作（比如round迭代时执行移动，周期销毁时刻执行对象的建造完毕等等）

## 建造
建造分为建造三种东西。对象，装备，建筑。

对象，按照神经网络变异迭代生成！！！！！！（重点）

迭代的越多，需要的资源也越多！

### 关于变异

比如说母方A属性是90 父方A属性是30
那么下一代的A属性就是
((90*母方权重+30*父方权重)/2)*随机数(1~1.5)
属性值最高100

【活跃】Ghosin ghos.in 2019/6/19 1:42:16
权重怎么定

【话唠】Gerardyang 2019/6/19 1:42:20
然后这个父方权重和母方权重随发展时间变化

开始的时候两个都是0.5

然后要有个属性叫 性别，出生时生成一个随机数判断奇偶就行

男性多的话父方权重上升

反之亦然

变化阈值是10%


【活跃】Ghosin ghos.in 2019/6/19 1:45:15
超过阈值会直接影响出生性别概率吗

还是说 是多的一方就直接死亡


我的意思是，当某一性别大于另一性别的110%的时候才会加权重

```
【话唠】Gerardyang 2019/6/19 1:47:25
灭亡很简单

【活跃】Ghosin ghos.in 2019/6/19 1:47:28
那一开始只有一个怎么办 有丝分裂吗

【活跃】Ghosin ghos.in 2019/6/19 1:47:41


【话唠】Gerardyang 2019/6/19 1:47:44
一开始必给两个

【话唠】Gerardyang 2019/6/19 1:48:12
不然你就只能用这一个人来发展科技到克隆人类

【活跃】Ghosin ghos.in 2019/6/19 1:49:35
那就要考虑额外的单位状态了 交配CD

【群主】⑨BIE 2019/6/19 1:49:53
交配得用资源

【群主】⑨BIE 2019/6/19 1:49:59
你交配的越久（？）

【管理员】NyanRabbit 2019/6/19 1:50:01


【群主】⑨BIE 2019/6/19 1:50:03
用的资源越多

【管理员】NyanRabbit 2019/6/19 1:50:12
连交配你们都要设计(

【群主】⑨BIE 2019/6/19 1:50:15
资源不够就停止交配了（

【群主】⑨BIE 2019/6/19 1:50:20
“NyanRabbit   1:50:12  查看原文
连交配你们都要设计(
hhhhh

【管理员】NyanRabbit 2019/6/19 1:50:26


【群主】⑨BIE 2019/6/19 1:50:27
还是说？

【管理员】NyanRabbit 2019/6/19 1:50:32
捂脸(

【群主】⑨BIE 2019/6/19 1:50:35
交配按照固定资源？

【群主】⑨BIE 2019/6/19 1:50:51
然后这些资源必定产生一个？

【活跃】AF-♂-渣渣的蘑菇点点 2019/6/19 1:50:59
交配还得考虑一夫一妻

【活跃】AF-♂-渣渣的蘑菇点点 2019/6/19 1:51:09
情人？

【群主】⑨BIE 2019/6/19 1:51:14
还是说资源影响圣经网络迭代次数？

【活跃】Ghosin ghos.in 2019/6/19 1:51:17
一瞬完成+CD还是建造一样读条+耗资源

【活跃】AF-♂-渣渣的蘑菇点点 2019/6/19 1:51:17
避孕效果？

【群主】⑨BIE 2019/6/19 1:51:40
我觉得 读条，资源决定迭代次数比较好。。

【群主】⑨BIE 2019/6/19 1:51:45
用户可以随时停止迭代

【群主】⑨BIE 2019/6/19 1:52:07
比方说有了想要的属性或者大于某数值？

【群主】⑨BIE 2019/6/19 1:52:13
还是说你们觉得呢？

【话唠】Gerardyang 2019/6/19 1:52:18
不必，限制round交配次数就行

【话唠】Gerardyang 2019/6/19 1:52:28
一开始1

【话唠】Gerardyang 2019/6/19 1:52:43
之后每两个round+1

【群主】⑨BIE 2019/6/19 1:52:55
交配次数也固定在一个范围里吧

【群主】⑨BIE 2019/6/19 1:53:04
毕竟后面虫子多了

【话唠】Gerardyang 2019/6/19 1:53:11
最高20

【群主】⑨BIE 2019/6/19 1:53:14
那么可是指数类增长的

【话唠】Gerardyang<sakurayayang@foxmail.com> 2:04:37
我们从头来捋一捋
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:04:48
开局是什么
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:04:58
如何产生下一代
【群主】⑨BIE(1948158539) 2:04:59
2虫
【群主】⑨BIE(1948158539) 2:05:05
开矿
【群主】⑨BIE(1948158539) 2:05:08
交配
【群主】⑨BIE(1948158539) 2:05:21
交配有限制
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:05:24
产生所需要的资源是什么
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:05:38
下一代的属性怎么来
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:05:56
种群的数量限制方案
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:06:08
无限制
【群主】⑨BIE(1948158539) 2:06:13
无限制
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:06:38
你们记得高中生物吗
【群主】⑨BIE(1948158539) 2:06:39
@Gerardyang 属性继承和变异出来
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:06:43
资源叫什么都好 分布就像红警那样？
【群主】⑨BIE(1948158539) 2:06:50
咋们是游戏呀
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:06:58
不不不
【群主】⑨BIE(1948158539) 2:07:05
最后肯定有一方要灭亡的(
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:07:11
考虑到运算资源限制的话
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:07:20
种群数量也要有一个限制
【群主】⑨BIE(1948158539) 2:07:34
资源没了
【群主】⑨BIE(1948158539) 2:07:46
数量也就上不去咯
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:07:56
那么资源要有多少
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:08:04
才是合理的
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:08:04
图挤满为止 单位不能重叠
【群主】⑨BIE(1948158539) 2:08:05
再加个老化机制？
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:08:20
老化机制难
【吐槽】能 天 使<xblaze@qq.com> 2:08:24
老化机制可以
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:08:24
老化是不可能的
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:08:26
时间单位是什么
【吐槽】能 天 使<xblaze@qq.com> 2:08:27
但是寿命
【吐槽】能 天 使<xblaze@qq.com> 2:08:31
也得是随机的
【吐槽】能 天 使<xblaze@qq.com> 2:08:37
而且每个种族的寿命也不一样
【群主】⑨BIE(1948158539) 2:08:41
寿命也是变异来的
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:08:45
每个单位考虑的状态不能太多
【吐槽】能 天 使<xblaze@qq.com> 2:08:47
进化过程中寿命会变
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:08:51
老化这个，会增加很多运算
【吐槽】能 天 使<xblaze@qq.com> 2:08:55
server crashed
【吐槽】能 天 使<xblaze@qq.com> 2:08:57
game over
【群主】⑨BIE(1948158539) 2:09:00
对
【群主】⑨BIE(1948158539) 2:09:09
运算会很多是真的
【群主】⑨BIE(1948158539) 2:09:16
 
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:09:21
所以不加老化
【群主】⑨BIE(1948158539) 2:09:25
这个不能随便加
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:09:30
改成自然灾害
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:09:30
和动员兵差不多复杂就行
【群主】⑨BIE(1948158539) 2:09:30
先不加老化吧
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:09:36
随机的自然灾害
【群主】⑨BIE(1948158539) 2:09:45
不然几百万对象都算老化
【群主】⑨BIE(1948158539) 2:09:50
当场gg
【群主】⑨BIE(1948158539) 2:10:06
@Gerardyang 这个肯定有。但是无法限制人口
如果繁殖不受距离限制 新单位出现在哪里
【吐槽】能 天 使<xblaze@qq.com> 2:16:53
那么问题来了
【吐槽】能 天 使<xblaze@qq.com> 2:16:59
繁殖方式要不要分类
【吐槽】能 天 使<xblaze@qq.com> 2:17:14
一开始有有丝分裂无丝分裂出芽生殖
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:17:19
不可能
【群主】⑨BIE(1948158539) 2:17:25
不行
【吐槽】能 天 使<xblaze@qq.com> 2:17:38
显然是不行的
【吐槽】能 天 使<xblaze@qq.com> 2:17:45
insufficient funds
【群主】⑨BIE(1948158539) 2:17:47
那样缺少活力
【群主】⑨BIE(1948158539) 2:17:55
沙盘容易死气沉沉
【吐槽】Einstein义务宣传员<wilsonzhang1153@qq.com> 2:18:17
我见到能天使了
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:18:31
繁殖的API怎么抽象
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:18:51
DIG(开采速度) [1,10)
ATK(力量) [10,100]
GAR(防御) (0,50]
SPD(速度) [1,10]
CAR(运载力) [1,5]
SEX(性别) {0 | 1}
以上皆取整数
开采能力由 力量*0.1*开采速度 决定，向下取整，开采能力不足的不能开采矿物
【群主】⑨BIE(1948158539) 2:19:10
繁殖api还不好说，父母，资源
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:19:20
不可能筛选雌雄DNA来进行具体的杂交吧
【群主】⑨BIE(1948158539) 2:19:34
然后控制具体啥时候停止
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:19:38
那最后不还是随机杂交
【群主】⑨BIE(1948158539) 2:19:43
然后丢算法里
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:19:45
啊，还有个作为标识的id
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:19:50
和概率有啥区别...
【群主】⑨BIE(1948158539) 2:19:57
@Ghosin 父母是可选的
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:20:07
玩家可以控制父母方
【群主】⑨BIE(1948158539) 2:20:09
可以自己搭配
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:20:10
用id
【吐槽】Ghosin ghos.in<admin@ghosin.com> 2:20:31
当有上万个雌雄个体 具体怎么控制
【群主】⑨BIE(1948158539) 2:20:42
这个交给程序
【话唠】Gerardyang<sakurayayang@foxmail.com> 2:20:45
id是16位哈希值还是从1开始递增
【群主】⑨BIE(1948158539) 2:20:53
看你程序怎么写的
【群主】⑨BIE(1948158539) 2:20:58
@Gerardyang 1
【吐槽】Last End<bit233333@vip.qq.com> 2:21:10
@Ghosin 我写个粗暴的，父代两人属性按属性分别加在一块，随机
【群主】⑨BIE(1948158539) 2:21:11
我们的玩家都是脚本
【吐槽】Last End<bit233333@vip.qq.com> 2:21:12
完事
【吐槽】Last End<bit233333@vip.qq.com> 2:21:16
 
【群主】⑨BIE(1948158539) 2:21:32
怎么杂交这是用户的事，了

```
## 灵感
#### 100x100x100的立体空间

然后前端生成沙盘，可以查看游戏进度和动态

#### 成员随机分配

成员初始状态随机，各有长短，目标就是利用这些长短

利用这些长短！
利用这些长短！
利用这些长短！

比方说地形因素，各种军事buff等待？


#### 随机生成各种星球

星球有各种资源，这些都是资源

资源可以生成武器/舰队/基地/等等其他

#### <del>游戏可以结盟，可以交易。</del>

咱不考虑
#### 胜利条件

完全消灭一方的所有物体即为胜利。

#### 游戏过程
数学层面的完全随机事件（非random刷出xxxx个怪物等

and other

## 现在问题
#### 1. 游戏脚本类型。

#### 2. 如何能设置游戏规则，达到编程水平能够影响战况的程度

#### 3. 编写语言？

#### 4. API如何开放？（和第一条关联

轮询的话，对于rts来说，请求太过于频繁了。

websocket的话，<del>咱不会</del>，还不如直接纯tcp？

毕竟我们的脚本又不是运行在前端还不如直接套tcp。

大不了我们自己写个每个语言的sdk。

#### 5. 脚本容器如何设置（是用户那边执行还是在服务器上执行，我个人推荐在服务器上执行

最初版本打算是使用在用户层运行，然后用webAPI控制自己的seed。

#### 6. 可否更新脚本？
反正是运行在用户层，自己咋样都可以咯
#### 7. 回合制 or RTS？

已经考虑使用RTS，即round不等待所有用户都提交才进行下一流程。

而是内置的一直执行下去，用户在此可以发送任意条指令。

反正所有动作都需要消耗round和资源来完成（逃

<del>

在此之前先阐明游戏运作机制，游戏靠round控制游戏进程。

如果round为自动迭代，则代表这是RTS类型。

如果round需要等待所有用户完成，则这是回合制

（个人倾向于回合制


回合制，处理多端同步时候就比较简单了。

然而会让程序操作理想化，失去了程序的性质

RTS，战斗更为激烈。
</del>